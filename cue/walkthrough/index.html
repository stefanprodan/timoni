
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Timoni is a package manager for Kubernetes powered by CUE lang.
">
      
      
        <meta name="author" content="Stefan Prodan">
      
      
        <link rel="canonical" href="https://timoni.sh/cue/walkthrough/">
      
      
        <link rel="prev" href="../introduction/">
      
      
        <link rel="next" href="../module/initialization/">
      
      
      <link rel="icon" href="../../images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.17">
    
    
      
        <title>CUE Walkthrough - Timoni</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.bcfcd587.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    

<meta property="og:url" content="https://timoni.sh/cue/walkthrough/">
<meta property="og:image" content="https://timoni.sh/images/logo_card.png">
<meta property="og:image:alt" content="timoni.sh">
<meta property="og:image:type" content="image/png">

<meta property="og:title" content="CUE Walkthrough">
<meta property="og:description" content="Timoni is a package manager for Kubernetes powered by CUE lang.
">


<meta name="twitter:site" content="@stefanprodan">
<meta name="twitter:creator" content="@stefanprodan">
<meta name="twitter:image:alt" content="timoni.sh">

<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://timoni.sh/images/logo.png">
<meta property="twitter:title" content="CUE Walkthrough">
<meta property="twitter:description" content="Timoni is a package manager for Kubernetes powered by CUE lang.
">



  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#cue-features-walkthrough" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Timoni" class="md-header__button md-logo" aria-label="Timoni" data-md-component="logo">
      
  <img src="../../images/logo_indigo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Timoni
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              CUE Walkthrough
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/stefanprodan/timoni" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    stefanprodan/timoni
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../quickstart/" class="md-tabs__link">
          
  
  Documentation

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../introduction/" class="md-tabs__link">
          
  
  CUE Reference

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../cmd/timoni/" class="md-tabs__link">
          
  
  CLI Reference

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Timoni" class="md-nav__button md-logo" aria-label="Timoni" data-md-component="logo">
      
  <img src="../../images/logo_indigo.svg" alt="logo">

    </a>
    Timoni
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/stefanprodan/timoni" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    stefanprodan/timoni
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quickstart
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Concepts
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../comparison/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Compared to other tools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    App Delivery
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            App Delivery
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bundle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bundle files
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bundle-runtime/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bundle runtime
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bundle-distribution/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bundle distribution
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bundle-secrets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bundle secrets injection
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bundle-multi-cluster/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multi-cluster deployments
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    App Packaging
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            App Packaging
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../module/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Module specification
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_7" >
        
          
          <label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Integrations
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            Integrations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../github-actions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitHub Actions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../flux-aio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Flux AIO Distribution
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../flux-helm-interop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Helm Interoperability
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gitops-flux/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitOps with Flux
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    CUE Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            CUE Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    CUE Walkthrough
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    CUE Walkthrough
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#command-line-tool" class="md-nav__link">
    <span class="md-ellipsis">
      Command Line Tool
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#builtin-types" class="md-nav__link">
    <span class="md-ellipsis">
      Builtin Types
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#structs-and-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Structs and Fields
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#field-immutability" class="md-nav__link">
    <span class="md-ellipsis">
      Field Immutability
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#schema-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      Schema Definitions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#default-values" class="md-nav__link">
    <span class="md-ellipsis">
      Default values
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#required-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Required Fields
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optional-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Optional Fields
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#field-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      Field Constraints
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conditional-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Conditional Fields
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#field-references" class="md-nav__link">
    <span class="md-ellipsis">
      Field References
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aliases" class="md-nav__link">
    <span class="md-ellipsis">
      Aliases
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interpolation" class="md-nav__link">
    <span class="md-ellipsis">
      Interpolation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#list-comprehensions" class="md-nav__link">
    <span class="md-ellipsis">
      List Comprehensions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#embedding" class="md-nav__link">
    <span class="md-ellipsis">
      Embedding
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Module Development
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Module Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../module/initialization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Get started with modules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../module/immutable-config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Immutable ConfigMaps and Secrets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../module/custom-resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Add custom resources
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../module/semver-constraints/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cluster version constraints
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../module/apply-behavior/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Control the apply behavior
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../module/test-jobs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Run tests with Kubernetes Jobs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../module/import-resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Import resources from YAML
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Module Distribution
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Module Distribution
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../module/publishing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Publishing module versions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../module/signing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Signing and Verification
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../module/github-actions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitHub Actions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CLI Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            CLI Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_version/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni version
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Instance
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Instance
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_apply/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni apply
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_build/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni build
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_delete/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni delete
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_list/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni list
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_inspect/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni inspect
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_inspect_module/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni inspect module
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_inspect_values/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni inspect values
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_inspect_resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni inspect resources
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_status/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni status
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Module
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            Module
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_mod/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni mod
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_mod_init/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni mod init
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_mod_push/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni mod push
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_mod_pull/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni mod pull
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_mod_list/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni mod list
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_mod_vet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni mod vet
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_mod_vendor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni mod vendor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_mod_vendor_k8s/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni mod vendor k8s
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_mod_vendor_crd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni mod vendor crd
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
        
          
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Bundle
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            Bundle
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_bundle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni bundle
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_bundle_apply/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni bundle apply
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_bundle_build/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni bundle build
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_bundle_delete/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni bundle delete
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_bundle_status/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni bundle status
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_bundle_vet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni bundle vet
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6" >
        
          
          <label class="md-nav__link" for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Runtime
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6">
            <span class="md-nav__icon md-icon"></span>
            Runtime
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_runtime/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni runtime
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_runtime_build/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni runtime build
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_7" >
        
          
          <label class="md-nav__link" for="__nav_4_7" id="__nav_4_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Registry
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_7">
            <span class="md-nav__icon md-icon"></span>
            Registry
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_registry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni registry
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_registry_login/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni registry login
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_registry_logout/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni registry logout
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8" >
        
          
          <label class="md-nav__link" for="__nav_4_8" id="__nav_4_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Artifact
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8">
            <span class="md-nav__icon md-icon"></span>
            Artifact
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_artifact/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni artifact
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_artifact_list/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni artifact list
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_artifact_push/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni artifact push
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_artifact_pull/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni artifact pull
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_artifact_tag/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni artifact tag
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_9" >
        
          
          <label class="md-nav__link" for="__nav_4_9" id="__nav_4_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Completion
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_9">
            <span class="md-nav__icon md-icon"></span>
            Completion
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_completion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni completion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_completion_bash/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni completion bash
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_completion_fish/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni completion fish
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_completion_powershell/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni completion powershell
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cmd/timoni_completion_zsh/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Timoni completion zsh
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#command-line-tool" class="md-nav__link">
    <span class="md-ellipsis">
      Command Line Tool
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#builtin-types" class="md-nav__link">
    <span class="md-ellipsis">
      Builtin Types
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#structs-and-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Structs and Fields
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#field-immutability" class="md-nav__link">
    <span class="md-ellipsis">
      Field Immutability
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#schema-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      Schema Definitions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#default-values" class="md-nav__link">
    <span class="md-ellipsis">
      Default values
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#required-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Required Fields
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optional-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Optional Fields
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#field-constraints" class="md-nav__link">
    <span class="md-ellipsis">
      Field Constraints
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conditional-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Conditional Fields
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#field-references" class="md-nav__link">
    <span class="md-ellipsis">
      Field References
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aliases" class="md-nav__link">
    <span class="md-ellipsis">
      Aliases
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interpolation" class="md-nav__link">
    <span class="md-ellipsis">
      Interpolation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#list-comprehensions" class="md-nav__link">
    <span class="md-ellipsis">
      List Comprehensions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#embedding" class="md-nav__link">
    <span class="md-ellipsis">
      Embedding
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="cue-features-walkthrough">CUE Features Walkthrough</h1>
<p>To work on Timoni modules a basic understanding of CUE is required. This guide will walk you through
the core features of CUE and how to use them to generate Kubernetes objects.</p>
<p>We'll start with a basic Kubernetes Service definition, and we'll gradually add more features
to reduce the boilerplate and improve the validation of the generated YAML.</p>
<h2 id="command-line-tool">Command Line Tool</h2>
<p>Before we begin, make sure you have the CUE CLI installed. To install CUE with Homebrew, run:</p>
<div class="highlight"><pre><span></span><code>brew<span class="w"> </span>install<span class="w"> </span>cue
</code></pre></div>
<p>For more installation options, follow the instructions from the
<a href="https://cuelang.org/docs/install/">official documentation</a>.</p>
<p>It is recommended to use the same CUE version as the one embedded in Timoni,
which can be found by running: <code>timoni version</code>.</p>
<div class="admonition tip">
<p class="admonition-title">Timoni CUE dependency</p>
<p>Note that Timoni embeds the CUE engine, so you don't need to install
it separately in order to use Timoni. The CUE CLI is only required
when developing modules to format the CUE files before publishing the
modules to container registries.</p>
</div>
<p>CUE comes with a rich set of CLI commands. Throughout this guide, we'll be using the following commands:</p>
<ul>
<li><code>cue fmt</code> - format CUE files</li>
<li><code>cue eval</code> - evaluate CUE expressions</li>
<li><code>cue vet</code> - validate CUE definitions</li>
</ul>
<h2 id="builtin-types">Builtin Types</h2>
<p>CUE defines the following type hierarchy:</p>
<ul>
<li><code>null</code></li>
<li><code>bool</code></li>
<li><code>string</code></li>
<li><code>bytes</code></li>
<li><code>number</code> (<code>int</code> and <code>float</code>)</li>
<li><code>struct</code></li>
<li><code>list</code></li>
<li><code>_</code> (any type)</li>
<li><code>_|_</code> (error type)</li>
</ul>
<h2 id="structs-and-fields">Structs and Fields</h2>
<p>Struct is the most important composite type in CUE, its members are called fields.
A field is a key-value pair, where the key is a string and the value is any CUE type.</p>
<p>We'll use a Kubernetes Service as an example to demonstrate how to define a struct in CUE.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">service.cue</label><label for="__tabbed_1_2">service.yaml</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>

<span class="nx">nginxSvc</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;v1&quot;</span>
<span class="w">    </span><span class="nx">kind</span><span class="p">:</span><span class="w">       </span><span class="s">&quot;Service&quot;</span>
<span class="w">    </span><span class="nx">metadata</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">name</span><span class="p">:</span><span class="w">      </span><span class="s">&quot;nginx&quot;</span>
<span class="w">        </span><span class="nx">namespace</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;default&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">spec</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">selector</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;app.kubernetes.io/name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nginx&quot;</span>
<span class="w">        </span><span class="nx">ports</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
<span class="w">            </span><span class="nx">name</span><span class="p">:</span><span class="w">       </span><span class="s">&quot;http&quot;</span>
<span class="w">            </span><span class="nx">port</span><span class="p">:</span><span class="w">       </span><span class="mi">80</span>
<span class="w">            </span><span class="nx">targetPort</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span>
<span class="w">        </span><span class="p">}]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">selector</span><span class="p">:</span>
<span class="w">    </span><span class="nt">app.kubernetes.io/name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">  </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http</span>
<span class="w">      </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
<span class="w">      </span><span class="nt">targetPort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
</code></pre></div>
</div>
</div>
</div>
<p>To generate the Kubernetes Service YAML, save the CUE definition in a file called <code>service.cue</code>,
and used the <code>cue eval</code> command to evaluate the <code>nginxSvc</code> struct and output it in YAML format:</p>
<div class="highlight"><pre><span></span><code>cue<span class="w"> </span><span class="nb">eval</span><span class="w"> </span>-e<span class="w"> </span>nginxSvc<span class="w"> </span>--out<span class="w"> </span>yaml
</code></pre></div>
<h2 id="field-immutability">Field Immutability</h2>
<p>In CUE structs are merged, which means you can define a struct with the same name in multiple
places in the same package, as long as the fields are not duplicated.</p>
<p>For example, you can add a label to the <code>selector</code> in a new code block:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">service.cue</label><label for="__tabbed_2_2">service.yaml</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>

<span class="nx">nginxSvc</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;v1&quot;</span>
<span class="w">    </span><span class="nx">kind</span><span class="p">:</span><span class="w">       </span><span class="s">&quot;Service&quot;</span>
<span class="w">    </span><span class="nx">metadata</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">name</span><span class="p">:</span><span class="w">      </span><span class="s">&quot;nginx&quot;</span>
<span class="w">        </span><span class="nx">namespace</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;default&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">spec</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">selector</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;app.kubernetes.io/name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nginx&quot;</span>
<span class="w">        </span><span class="nx">ports</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
<span class="w">            </span><span class="nx">name</span><span class="p">:</span><span class="w">       </span><span class="s">&quot;http&quot;</span>
<span class="w">            </span><span class="nx">port</span><span class="p">:</span><span class="w">       </span><span class="mi">80</span>
<span class="w">            </span><span class="nx">targetPort</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span>
<span class="w">        </span><span class="p">}]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="nx">nginxSvc</span><span class="p">:</span><span class="w"> </span><span class="nx">spec</span><span class="p">:</span><span class="w"> </span><span class="nx">selector</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;app.kubernetes.io/component&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;proxy&quot;</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">selector</span><span class="p">:</span>
<span class="w">    </span><span class="nt">app.kubernetes.io/name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">    </span><span class="nt">app.kubernetes.io/component</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">proxy</span>
<span class="w">  </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http</span>
<span class="w">      </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
<span class="w">      </span><span class="nt">targetPort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
</code></pre></div>
</div>
</div>
</div>
<p>In CUE fields are immutable, which means that once a field is set to a concrete value,
its value cannot be changed.</p>
<p>To demonstrate immutability, let's try to rename our service by adding a new code block
to the <code>service.cue</code> file:</p>
<div class="highlight"><pre><span></span><code><span class="nx">nginxSvc</span><span class="p">:</span><span class="w"> </span><span class="nx">metadata</span><span class="p">:</span><span class="w"> </span><span class="nx">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nginx-2&quot;</span>
</code></pre></div>
<p>If you run the eval command, you'll notice that the <code>name</code> field reports an error:</p>
<div class="highlight"><pre><span></span><code><span class="gp">$ </span>cue<span class="w"> </span><span class="nb">eval</span><span class="w"> </span>-e<span class="w"> </span>nginxSvc<span class="w"> </span>--out<span class="w"> </span>yaml
<span class="go">nginxSvc.metadata.name: conflicting values &quot;nginx-2&quot; and &quot;nginx&quot;:</span>
<span class="go">    ./service.cue:5:14</span>
<span class="go">    ./service.cue:18:27</span>
</code></pre></div>
<h2 id="schema-definitions">Schema Definitions</h2>
<p>CUE definitions, indicated by an identifier starting with <code>#</code>,
are used to define schema against which concrete values such as structs can be validated.</p>
<p>The following example demonstrates how to define a basic <code>#Service</code> schema
and how to assign it to the <code>nginxSvc</code> struct:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:3"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><input id="__tabbed_3_3" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">schema.cue</label><label for="__tabbed_3_2">service.cue</label><label for="__tabbed_3_3">service.yaml</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>

<span class="err">#</span><span class="nx">Service</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="kt">string</span>
<span class="w">    </span><span class="nx">kind</span><span class="p">:</span><span class="w">       </span><span class="kt">string</span>
<span class="w">    </span><span class="nx">metadata</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">name</span><span class="p">:</span><span class="w">      </span><span class="kt">string</span>
<span class="w">        </span><span class="nx">namespace</span><span class="p">:</span><span class="w"> </span><span class="kt">string</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">spec</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">selector</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="kt">string</span><span class="p">]:</span><span class="w"> </span><span class="kt">string</span>
<span class="w">        </span><span class="nx">ports</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
<span class="w">            </span><span class="nx">name</span><span class="p">:</span><span class="w">       </span><span class="kt">string</span>
<span class="w">            </span><span class="nx">port</span><span class="p">:</span><span class="w">       </span><span class="kt">int</span>
<span class="w">            </span><span class="nx">targetPort</span><span class="p">:</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kt">string</span>
<span class="w">        </span><span class="p">}]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>

<span class="c1">// Set the schema</span>
<span class="nx">nginxSvc</span><span class="p">:</span><span class="w"> </span><span class="err">#</span><span class="nx">Service</span>

<span class="c1">// Set the concrete values</span>
<span class="nx">nginxSvc</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;v1&quot;</span>
<span class="w">    </span><span class="nx">kind</span><span class="p">:</span><span class="w">       </span><span class="s">&quot;Service&quot;</span>
<span class="w">    </span><span class="nx">metadata</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">name</span><span class="p">:</span><span class="w">      </span><span class="s">&quot;nginx&quot;</span>
<span class="w">        </span><span class="nx">namespace</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;default&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">spec</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">selector</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;app.kubernetes.io/name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nginx&quot;</span>
<span class="w">        </span><span class="nx">ports</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
<span class="w">            </span><span class="nx">name</span><span class="p">:</span><span class="w">       </span><span class="s">&quot;http&quot;</span>
<span class="w">            </span><span class="nx">port</span><span class="p">:</span><span class="w">       </span><span class="mi">80</span>
<span class="w">            </span><span class="nx">targetPort</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span>
<span class="w">        </span><span class="p">}]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">selector</span><span class="p">:</span>
<span class="w">    </span><span class="nt">app.kubernetes.io/name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">  </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http</span>
<span class="w">      </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
<span class="w">      </span><span class="nt">targetPort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
</code></pre></div>
</div>
</div>
</div>
<p>Save the schema in a file called <code>schema.cue</code>. To make our service use the <code>#Service</code> schema,
in <code>service.cue</code> we'll have to change its definition to <code>nginxSvc: #Service</code>.</p>
<p>To validate the <code>nginxSvc</code> struct against the <code>#Service</code> schema, run:</p>
<div class="highlight"><pre><span></span><code>cue<span class="w"> </span>vet<span class="w"> </span>--concrete
</code></pre></div>
<p>While the current schema is very basic, it has reduced by a lot the mistakes that can be made
when defining a Kubernetes Service.</p>
<ul>
<li>We can no longer define a Service without specifying all the fields present in the schema.</li>
<li>We can't set a field value to a different type than the one defined in the schema.</li>
<li>We can't add fields that are not present in the schema, a typo in a field name will not go unnoticed.</li>
</ul>
<p>To demonstrate the schema validation, let's try to change the <code>port</code> field in <code>service.cue</code>
to a string e.g. <code>port: "80"</code>.</p>
<p>If you run the vet or eval command, you'll notice that the <code>port</code> field reports an error:</p>
<div class="highlight"><pre><span></span><code><span class="gp">$ </span>cue<span class="w"> </span><span class="nb">eval</span><span class="w"> </span>-e<span class="w"> </span>nginxSvc<span class="w"> </span>--out<span class="w"> </span>yaml
<span class="go">nginxSvc.spec.ports.0.port: conflicting values int and &quot;80&quot; (mismatched types int and string):</span>
<span class="go">    ./schema.cue:14:16</span>
<span class="go">    ./service.cue:17:16</span>
</code></pre></div>
<p>CUE allows setting multiple types for a field, in the example above,
the <code>targetPort</code> field can be either an <code>int</code> or a <code>string</code>.
To demonstrate this, let's change the <code>targetPort</code> field in <code>service.cue</code> to a string,
e.g. <code>targetPort: "http"</code>.</p>
<p>If you run the eval command, you'll notice that the <code>targetPort</code> field passes
validation and the output YAML contains the string value.</p>
<h2 id="default-values">Default values</h2>
<p>In CUE, you can set default values for fields using the <code>*</code> operator,
e.g. <code>apiVersion: string | *"v1"</code>.</p>
<p>To reduce the boilerplate, we can define default values for fields
such as <code>apiVersion</code>, <code>kind</code>  and <code>namespace</code>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="4:3"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><input id="__tabbed_4_2" name="__tabbed_4" type="radio" /><input id="__tabbed_4_3" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">schema.cue</label><label for="__tabbed_4_2">service.cue</label><label for="__tabbed_4_3">service.yaml</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>

<span class="err">#</span><span class="nx">Service</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">*</span><span class="s">&quot;v1&quot;</span>
<span class="w">    </span><span class="nx">kind</span><span class="p">:</span><span class="w">       </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">*</span><span class="s">&quot;Service&quot;</span>
<span class="w">    </span><span class="nx">metadata</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">name</span><span class="p">:</span><span class="w">      </span><span class="kt">string</span>
<span class="w">        </span><span class="nx">namespace</span><span class="p">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">*</span><span class="s">&quot;default&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">spec</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">selector</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="kt">string</span><span class="p">]:</span><span class="w"> </span><span class="kt">string</span>
<span class="w">        </span><span class="nx">ports</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
<span class="w">            </span><span class="nx">name</span><span class="p">:</span><span class="w">       </span><span class="kt">string</span>
<span class="w">            </span><span class="nx">port</span><span class="p">:</span><span class="w">       </span><span class="kt">int</span>
<span class="w">            </span><span class="nx">targetPort</span><span class="p">:</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kt">string</span>
<span class="w">        </span><span class="p">}]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>

<span class="c1">// Set the schema</span>
<span class="nx">nginxSvc</span><span class="p">:</span><span class="w"> </span><span class="err">#</span><span class="nx">Service</span>

<span class="nx">nginxSvc</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">metadata</span><span class="p">:</span><span class="w"> </span><span class="nx">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nginx&quot;</span>
<span class="w">    </span><span class="nx">spec</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">selector</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;app.kubernetes.io/name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nginx&quot;</span>
<span class="w">        </span><span class="nx">ports</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
<span class="w">            </span><span class="nx">name</span><span class="p">:</span><span class="w">       </span><span class="s">&quot;http&quot;</span>
<span class="w">            </span><span class="nx">port</span><span class="p">:</span><span class="w">       </span><span class="mi">80</span>
<span class="w">            </span><span class="nx">targetPort</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;http&quot;</span>
<span class="w">        </span><span class="p">}]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">selector</span><span class="p">:</span>
<span class="w">    </span><span class="nt">app.kubernetes.io/name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">  </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http</span>
<span class="w">      </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
<span class="w">      </span><span class="nt">targetPort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http</span>
</code></pre></div>
</div>
</div>
</div>
<p>The fields with default values set in schema can be omitted from the struct definition.</p>
<p>If you run the eval command to generate the YAML,
you'll notice that the fields with defaults are present in output.</p>
<h2 id="required-fields">Required Fields</h2>
<p>To improve the validation of the <code>#Service</code> schema, we can mark fields such as <code>name</code> and <code>port</code>
as required using the <code>!</code> operator e.g. <code>name!: string</code>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="5:3"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><input id="__tabbed_5_2" name="__tabbed_5" type="radio" /><input id="__tabbed_5_3" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">schema.cue</label><label for="__tabbed_5_2">service.cue</label><label for="__tabbed_5_3">service.yaml</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>

<span class="err">#</span><span class="nx">Service</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">*</span><span class="s">&quot;v1&quot;</span>
<span class="w">    </span><span class="nx">kind</span><span class="p">:</span><span class="w">       </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">*</span><span class="s">&quot;Service&quot;</span>
<span class="w">    </span><span class="nx">metadata</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">name</span><span class="p">!:</span><span class="w">     </span><span class="kt">string</span>
<span class="w">        </span><span class="nx">namespace</span><span class="p">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">*</span><span class="s">&quot;default&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">spec</span><span class="p">!:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">selector</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="kt">string</span><span class="p">]:</span><span class="w"> </span><span class="kt">string</span>
<span class="w">        </span><span class="nx">ports</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
<span class="w">            </span><span class="nx">name</span><span class="p">:</span><span class="w">      </span><span class="kt">string</span>
<span class="w">            </span><span class="nx">port</span><span class="p">!:</span><span class="w">      </span><span class="kt">int</span>
<span class="w">            </span><span class="nx">targetPort</span><span class="p">:</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kt">string</span>
<span class="w">        </span><span class="p">}]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>

<span class="c1">// Set the schema</span>
<span class="nx">nginxSvc</span><span class="p">:</span><span class="w"> </span><span class="err">#</span><span class="nx">Service</span>

<span class="nx">nginxSvc</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">metadata</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nginx&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">spec</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">selector</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;app.kubernetes.io/name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nginx&quot;</span>
<span class="w">        </span><span class="nx">ports</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
<span class="w">            </span><span class="nx">name</span><span class="p">:</span><span class="w">       </span><span class="s">&quot;http&quot;</span>
<span class="w">            </span><span class="nx">port</span><span class="p">:</span><span class="w">       </span><span class="mi">80</span>
<span class="w">            </span><span class="nx">targetPort</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;http&quot;</span>
<span class="w">        </span><span class="p">}]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">selector</span><span class="p">:</span>
<span class="w">    </span><span class="nt">app.kubernetes.io/name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">  </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http</span>
<span class="w">      </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
<span class="w">      </span><span class="nt">targetPort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http</span>
</code></pre></div>
</div>
</div>
</div>
<p>To demonstrate the required fields validation, let's try to remove the <code>port</code> field from <code>service.cue</code>.</p>
<p>If you run the vet or eval command, you'll notice that the <code>port</code> field reports an error:</p>
<div class="highlight"><pre><span></span><code><span class="gp">$ </span>cue<span class="w"> </span><span class="nb">eval</span><span class="w"> </span>-e<span class="w"> </span>nginxSvc<span class="w"> </span>--out<span class="w"> </span>yaml
<span class="go">nginxSvc.spec.ports.0.port: field is required but not present:</span>
<span class="go">    ./schema.cue:14:4</span>
<span class="go">    ./service.cue:4:11</span>
</code></pre></div>
<h2 id="optional-fields">Optional Fields</h2>
<p>To make the <code>#Service</code> schema match the Kubernetes specification,
we can mark fields such as <code>selector</code> and <code>ports</code> as optional, using the <code>?</code> operator
e.g. <code>selector?: [string]: string</code>.</p>
<p>We'll also add <code>labels</code> and <code>annotations</code> as optional fields to the <code>metadata</code> struct.
And finally, we'll extend the Service spec with <code>type</code>, <code>clusterIP</code>, <code>externalName</code> and <code>protocol</code>
as optional fields to complete the schema.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:3"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><input id="__tabbed_6_2" name="__tabbed_6" type="radio" /><input id="__tabbed_6_3" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">schema.cue</label><label for="__tabbed_6_2">service.cue</label><label for="__tabbed_6_3">service.yaml</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>

<span class="err">#</span><span class="nx">Service</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">*</span><span class="s">&quot;v1&quot;</span>
<span class="w">    </span><span class="nx">kind</span><span class="p">:</span><span class="w">       </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">*</span><span class="s">&quot;Service&quot;</span>
<span class="w">    </span><span class="nx">metadata</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">name</span><span class="p">!:</span><span class="w">     </span><span class="kt">string</span>
<span class="w">        </span><span class="nx">namespace</span><span class="p">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">*</span><span class="s">&quot;default&quot;</span>
<span class="w">        </span><span class="nx">labels</span><span class="err">?</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="kt">string</span><span class="p">]:</span><span class="w">      </span><span class="kt">string</span>
<span class="w">        </span><span class="nx">annotations</span><span class="err">?</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="kt">string</span><span class="p">]:</span><span class="w"> </span><span class="kt">string</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">spec</span><span class="p">!:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">type</span><span class="err">?</span><span class="p">:</span><span class="w">         </span><span class="kt">string</span>
<span class="w">        </span><span class="nx">clusterIP</span><span class="err">?</span><span class="p">:</span><span class="w">    </span><span class="kt">string</span>
<span class="w">        </span><span class="nx">externalName</span><span class="err">?</span><span class="p">:</span><span class="w"> </span><span class="kt">string</span>
<span class="w">        </span><span class="nx">selector</span><span class="err">?</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="kt">string</span><span class="p">]:</span><span class="w"> </span><span class="kt">string</span>
<span class="w">        </span><span class="nx">ports</span><span class="err">?</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="o">...</span><span class="p">{</span>
<span class="w">            </span><span class="nx">name</span><span class="err">?</span><span class="p">:</span><span class="w">       </span><span class="kt">string</span>
<span class="w">            </span><span class="nx">protocol</span><span class="p">:</span><span class="w">    </span><span class="o">*</span><span class="s">&quot;TCP&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&quot;UDP&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&quot;SCTP&quot;</span>
<span class="w">            </span><span class="nx">port</span><span class="p">!:</span><span class="w">       </span><span class="kt">int</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="o">&gt;=</span><span class="mi">1</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="o">&lt;=</span><span class="mi">65535</span>
<span class="w">            </span><span class="nx">targetPort</span><span class="err">?</span><span class="p">:</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kt">string</span>
<span class="w">        </span><span class="p">}]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>

<span class="c1">// Set the schema</span>
<span class="nx">nginxSvc</span><span class="p">:</span><span class="w"> </span><span class="err">#</span><span class="nx">Service</span>

<span class="nx">nginxSvc</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">metadata</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">name</span><span class="p">:</span><span class="w">      </span><span class="s">&quot;nginx&quot;</span>
<span class="w">        </span><span class="nx">namespace</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;default&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">spec</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">type</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ClusterIP&quot;</span>
<span class="w">        </span><span class="nx">selector</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;app.kubernetes.io/name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nginx&quot;</span>
<span class="w">        </span><span class="nx">ports</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
<span class="w">            </span><span class="nx">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;http&quot;</span>
<span class="w">            </span><span class="nx">port</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span>
<span class="w">        </span><span class="p">}]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">selector</span><span class="p">:</span>
<span class="w">    </span><span class="nt">app.kubernetes.io/name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">  </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http</span>
<span class="w">      </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TCP</span>
<span class="w">      </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
</code></pre></div>
</div>
</div>
</div>
<p>To demonstrate the optional fields validation, let's try to remove the <code>targetPort</code> field from <code>service.cue</code>.</p>
<p>If you run the eval command to generate the YAML,
you'll notice that the <code>targetPort</code> field is not present in the output.</p>
<h2 id="field-constraints">Field Constraints</h2>
<p>To improve the validation of the <code>#Service</code> schema, we can add constraints to its fields.</p>
<p>For example, we can constrain the <code>name</code> field to match the Kubernetes naming convention,
using a regular expression e.g. <code>name!: =~"^[a-z0-9]([-a-z0-9]*[a-z0-9])?$"</code>.</p>
<p>We can also constrain the <code>port</code> field to be in the range 1-65535,
using the <code>&gt;=</code> and <code>&lt;=</code> operators e.g. <code>port!: &gt;=1 &amp; &lt;=65535</code>.</p>
<p>We can also constrain the <code>type</code> field to match one of the allowed values, using the <code>|</code> operator
e.g. <code>type: *"ClusterIP" | "NodePort" | "LoadBalancer" | "ExternalName"</code>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="7:3"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><input id="__tabbed_7_2" name="__tabbed_7" type="radio" /><input id="__tabbed_7_3" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">schema.cue</label><label for="__tabbed_7_2">service.cue</label><label for="__tabbed_7_3">service.yaml</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>

<span class="err">#</span><span class="nx">Service</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">*</span><span class="s">&quot;v1&quot;</span>
<span class="w">    </span><span class="nx">kind</span><span class="p">:</span><span class="w">       </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">*</span><span class="s">&quot;Service&quot;</span>
<span class="w">    </span><span class="nx">metadata</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">name</span><span class="p">!:</span><span class="w">     </span><span class="kt">string</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">=</span><span class="o">~</span><span class="s">&quot;^[a-z0-9]([-a-z0-9]*[a-z0-9])?$&quot;</span>
<span class="w">        </span><span class="nx">namespace</span><span class="p">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">*</span><span class="s">&quot;default&quot;</span>
<span class="w">        </span><span class="nx">labels</span><span class="err">?</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="kt">string</span><span class="p">]:</span><span class="w">      </span><span class="kt">string</span>
<span class="w">        </span><span class="nx">annotations</span><span class="err">?</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="kt">string</span><span class="p">]:</span><span class="w"> </span><span class="kt">string</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">spec</span><span class="p">!:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">type</span><span class="p">:</span><span class="w">          </span><span class="o">*</span><span class="s">&quot;ClusterIP&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&quot;NodePort&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&quot;LoadBalancer&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&quot;ExternalName&quot;</span>
<span class="w">        </span><span class="nx">clusterIP</span><span class="err">?</span><span class="p">:</span><span class="w">    </span><span class="kt">string</span>
<span class="w">        </span><span class="nx">externalName</span><span class="err">?</span><span class="p">:</span><span class="w"> </span><span class="kt">string</span>
<span class="w">        </span><span class="nx">selector</span><span class="err">?</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="kt">string</span><span class="p">]:</span><span class="w"> </span><span class="kt">string</span>
<span class="w">        </span><span class="nx">ports</span><span class="err">?</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="o">...</span><span class="p">{</span>
<span class="w">            </span><span class="nx">name</span><span class="err">?</span><span class="p">:</span><span class="w">       </span><span class="kt">string</span>
<span class="w">            </span><span class="nx">protocol</span><span class="p">:</span><span class="w">    </span><span class="o">*</span><span class="s">&quot;TCP&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&quot;UDP&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&quot;SCTP&quot;</span>
<span class="w">            </span><span class="nx">port</span><span class="p">!:</span><span class="w">       </span><span class="kt">int</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="o">&gt;=</span><span class="mi">1</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="o">&lt;=</span><span class="mi">65535</span>
<span class="w">            </span><span class="nx">targetPort</span><span class="err">?</span><span class="p">:</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kt">string</span>
<span class="w">        </span><span class="p">}]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>

<span class="c1">// Set the schema</span>
<span class="nx">nginxSvc</span><span class="p">:</span><span class="w"> </span><span class="err">#</span><span class="nx">Service</span>

<span class="nx">nginxSvc</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">metadata</span><span class="p">:</span><span class="w"> </span><span class="nx">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nginx&quot;</span>
<span class="w">    </span><span class="nx">spec</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">selector</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;app.kubernetes.io/name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nginx&quot;</span>
<span class="w">        </span><span class="nx">ports</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
<span class="w">            </span><span class="nx">name</span><span class="p">:</span><span class="w">       </span><span class="s">&quot;http&quot;</span>
<span class="w">            </span><span class="nx">port</span><span class="p">:</span><span class="w">       </span><span class="mi">80</span>
<span class="w">            </span><span class="nx">targetPort</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;http&quot;</span>
<span class="w">        </span><span class="p">}]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">selector</span><span class="p">:</span>
<span class="w">    </span><span class="nt">app.kubernetes.io/name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">  </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http</span>
<span class="w">      </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TCP</span>
<span class="w">      </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
<span class="w">      </span><span class="nt">targetPort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http</span>
</code></pre></div>
</div>
</div>
</div>
<p>To demonstrate the field constraints validation, let's try to change the <code>port</code> field in <code>service.cue</code>
to a value outside the range 1-65535, e.g. <code>port: 65536</code> and let's add a disallowed character to the <code>name</code>
field, e.g. <code>name: "nginx_proxy"</code>.</p>
<p>If you run the vet or eval command, you'll notice both the <code>name</code> and <code>port</code> fields report an error:</p>
<div class="highlight"><pre><span></span><code><span class="gp">$ </span>cue<span class="w"> </span><span class="nb">eval</span><span class="w"> </span>-e<span class="w"> </span>nginxSvc<span class="w"> </span>--out<span class="w"> </span>yaml
<span class="go">nginxSvc.metadata.name: invalid value &quot;nginx_proxy&quot; (out of bound =~&quot;^[a-z0-9]([-a-z0-9]*[a-z0-9])?$&quot;):</span>
<span class="go">    ./schema.cue:7:14</span>
<span class="go">    ./service.cue:5:9</span>
<span class="go">nginxSvc.spec.ports.0.port: invalid value 65536 (out of bound &lt;=65535):</span>
<span class="go">    ./schema.cue:20:29</span>
<span class="go">    ./service.cue:16:10</span>
</code></pre></div>
<h2 id="conditional-fields">Conditional Fields</h2>
<p>In CUE, you can use if statements to add fields to a schema definition conditionally.</p>
<p>For example, we can add the <code>externalName</code> field to the <code>#Service</code> schema only when the <code>type</code>
is set to <code>ExternalName</code>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="8:3"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><input id="__tabbed_8_2" name="__tabbed_8" type="radio" /><input id="__tabbed_8_3" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="__tabbed_8_1">schema.cue</label><label for="__tabbed_8_2">service.cue</label><label for="__tabbed_8_3">service.yaml</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>

<span class="err">#</span><span class="nx">Service</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">*</span><span class="s">&quot;v1&quot;</span>
<span class="w">    </span><span class="nx">kind</span><span class="p">:</span><span class="w">       </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">*</span><span class="s">&quot;Service&quot;</span>
<span class="w">    </span><span class="nx">metadata</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">name</span><span class="p">!:</span><span class="w">     </span><span class="kt">string</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">=</span><span class="o">~</span><span class="s">&quot;^[a-z0-9]([-a-z0-9]*[a-z0-9])?$&quot;</span>
<span class="w">        </span><span class="nx">namespace</span><span class="p">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">*</span><span class="s">&quot;default&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">spec</span><span class="p">!:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">type</span><span class="p">:</span><span class="w"> </span><span class="o">*</span><span class="s">&quot;ClusterIP&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&quot;NodePort&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&quot;LoadBalancer&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&quot;ExternalName&quot;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="kd">type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;ExternalName&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">externalName</span><span class="p">!:</span><span class="w"> </span><span class="kt">string</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="nx">clusterIP</span><span class="err">?</span><span class="p">:</span><span class="w">   </span><span class="kt">string</span>
<span class="w">        </span><span class="nx">selector</span><span class="err">?</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="kt">string</span><span class="p">]:</span><span class="w"> </span><span class="kt">string</span>
<span class="w">        </span><span class="nx">ports</span><span class="err">?</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="o">...</span><span class="p">{</span>
<span class="w">            </span><span class="nx">name</span><span class="err">?</span><span class="p">:</span><span class="w">       </span><span class="kt">string</span>
<span class="w">            </span><span class="nx">protocol</span><span class="p">:</span><span class="w">    </span><span class="o">*</span><span class="s">&quot;TCP&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&quot;UDP&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&quot;SCTP&quot;</span>
<span class="w">            </span><span class="nx">port</span><span class="p">!:</span><span class="w">       </span><span class="kt">int</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="o">&gt;=</span><span class="mi">1</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="o">&lt;=</span><span class="mi">65535</span>
<span class="w">            </span><span class="nx">targetPort</span><span class="err">?</span><span class="p">:</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kt">string</span>
<span class="w">        </span><span class="p">}]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>

<span class="c1">// Set the schema</span>
<span class="nx">nginxSvc</span><span class="p">:</span><span class="w"> </span><span class="err">#</span><span class="nx">Service</span>

<span class="nx">nginxSvc</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">metadata</span><span class="p">:</span><span class="w"> </span><span class="nx">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nginx&quot;</span>
<span class="w">    </span><span class="nx">spec</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">selector</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;app.kubernetes.io/name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nginx&quot;</span>
<span class="w">        </span><span class="nx">ports</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
<span class="w">            </span><span class="nx">name</span><span class="p">:</span><span class="w">       </span><span class="s">&quot;http&quot;</span>
<span class="w">            </span><span class="nx">port</span><span class="p">:</span><span class="w">       </span><span class="mi">80</span>
<span class="w">            </span><span class="nx">targetPort</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;http&quot;</span>
<span class="w">        </span><span class="p">}]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ClusterIP</span>
<span class="w">  </span><span class="nt">selector</span><span class="p">:</span>
<span class="w">    </span><span class="nt">app.kubernetes.io/name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">  </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http</span>
<span class="w">      </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TCP</span>
<span class="w">      </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
<span class="w">      </span><span class="nt">targetPort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http</span>
</code></pre></div>
</div>
</div>
</div>
<p>To demonstrate the condition field constraint, let's add <code>externalName: "example.com"</code>
in <code>service.cue</code> without setting the <code>type</code> to <code>ExternalName</code>.</p>
<p>If you run the vet or eval command, you'll notice that the <code>externalName</code> field reports an error:</p>
<div class="highlight"><pre><span></span><code><span class="gp">$ </span>cue<span class="w"> </span><span class="nb">eval</span><span class="w"> </span>-e<span class="w"> </span>nginxSvc<span class="w"> </span>--out<span class="w"> </span>yaml
<span class="go">nginxSvc.spec.externalName: field not allowed:</span>
<span class="go">    ./schema.cue:10:9</span>
<span class="go">    ./service.cue:10:3</span>
</code></pre></div>
<h2 id="field-references">Field References</h2>
<p>In CUE, you can reference field values using dot notation paths.
For example, to reference the <code>name</code> field from the <code>metadata</code> struct,
you can use the path <code>metadata.name</code> anywhere in <code>spec</code>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="9:2"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio" /><input id="__tabbed_9_2" name="__tabbed_9" type="radio" /><div class="tabbed-labels"><label for="__tabbed_9_1">service.cue</label><label for="__tabbed_9_2">service.yaml</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>

<span class="nx">nginxSvc</span><span class="p">:</span><span class="w"> </span><span class="err">#</span><span class="nx">Service</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">metadata</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nginx&quot;</span>
<span class="w">        </span><span class="c1">// Reference the metadata name field</span>
<span class="w">        </span><span class="nx">namespace</span><span class="p">:</span><span class="w"> </span><span class="nx">name</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">spec</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Reference the metadata name field</span>
<span class="w">        </span><span class="nx">selector</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;app.kubernetes.io/name&quot;</span><span class="p">:</span><span class="w"> </span><span class="nx">metadata</span><span class="p">.</span><span class="nx">name</span>
<span class="w">        </span><span class="nx">ports</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
<span class="w">            </span><span class="nx">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;http&quot;</span>
<span class="w">            </span><span class="nx">port</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span>
<span class="w">            </span><span class="c1">// Reference the port name field</span>
<span class="w">            </span><span class="nx">targetPort</span><span class="p">:</span><span class="w"> </span><span class="nx">name</span>
<span class="w">        </span><span class="p">}]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ClusterIP</span>
<span class="w">  </span><span class="nt">selector</span><span class="p">:</span>
<span class="w">    </span><span class="nt">app.kubernetes.io/name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">  </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http</span>
<span class="w">      </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TCP</span>
<span class="w">      </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
<span class="w">      </span><span class="nt">targetPort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http</span>
</code></pre></div>
</div>
</div>
</div>
<p>Note that CUE references a value from the nearest enclosing scope, demonstrated above by
referencing the <code>name</code> field in both <code>metadata</code> and <code>ports</code>.
Inside the <code>metadata</code> struct, the <code>name</code> field references the <code>metadata.name</code> value,
while inside the <code>ports</code> list, the <code>name</code> field references the <code>ports[0].name</code> value.</p>
<h2 id="aliases">Aliases</h2>
<p>In CUE, an alias defines a local value that is not a member of a struct and is omitted from the output.
Aliases are useful when you want to perform intermediate calculations and reuse the result in multiple places
within the same struct.</p>
<p>For example, we can define an alias for the app name, and use it to set the <code>name</code> and <code>namespace</code>
fields in <code>metadata</code>, and the <code>app.kubernetes.io/name</code> label in <code>selector</code>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="10:2"><input checked="checked" id="__tabbed_10_1" name="__tabbed_10" type="radio" /><input id="__tabbed_10_2" name="__tabbed_10" type="radio" /><div class="tabbed-labels"><label for="__tabbed_10_1">service.cue</label><label for="__tabbed_10_2">service.yaml</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>

<span class="nx">nginxSvc</span><span class="p">:</span><span class="w"> </span><span class="err">#</span><span class="nx">Service</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">let</span><span class="w"> </span><span class="nx">appName</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;nginx&quot;</span>
<span class="w">    </span><span class="nx">metadata</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">name</span><span class="p">:</span><span class="w">      </span><span class="nx">appName</span>
<span class="w">        </span><span class="nx">namespace</span><span class="p">:</span><span class="w"> </span><span class="nx">appName</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">spec</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">selector</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;app.kubernetes.io/name&quot;</span><span class="p">:</span><span class="w"> </span><span class="nx">appName</span>
<span class="w">        </span><span class="nx">ports</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
<span class="w">            </span><span class="nx">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;http&quot;</span>
<span class="w">            </span><span class="nx">port</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span>
<span class="w">        </span><span class="p">}]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ClusterIP</span>
<span class="w">  </span><span class="nt">selector</span><span class="p">:</span>
<span class="w">    </span><span class="nt">app.kubernetes.io/name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">  </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http</span>
<span class="w">      </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TCP</span>
<span class="w">      </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
</code></pre></div>
</div>
</div>
</div>
<h2 id="interpolation">Interpolation</h2>
<p>Cue supports interpolation in strings, bytes and field names with <code>\(expr)</code>.
The expression can be any CUE expression, including references to other fields.</p>
<p>For example, we can declare an alias named <code>kubeLabel</code> and use it to interpolate
the domain name in the <code>selector</code> labels.
We can also use interpolation to add the <code>metadata.name</code> as a prefix to the port <code>name</code>.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="11:2"><input checked="checked" id="__tabbed_11_1" name="__tabbed_11" type="radio" /><input id="__tabbed_11_2" name="__tabbed_11" type="radio" /><div class="tabbed-labels"><label for="__tabbed_11_1">service.cue</label><label for="__tabbed_11_2">service.yaml</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>

<span class="nx">nginxSvc</span><span class="p">:</span><span class="w"> </span><span class="err">#</span><span class="nx">Service</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">let</span><span class="w"> </span><span class="nx">kubeLabel</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;app.kubernetes.io&quot;</span>
<span class="w">    </span><span class="nx">metadata</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">name</span><span class="p">:</span><span class="w">      </span><span class="s">&quot;nginx&quot;</span>
<span class="w">        </span><span class="nx">namespace</span><span class="p">:</span><span class="w"> </span><span class="nx">name</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">spec</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">selector</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="s">&quot;\(kubeLabel)/name&quot;</span><span class="p">:</span><span class="w">      </span><span class="nx">metadata</span><span class="p">.</span><span class="nx">name</span>
<span class="w">            </span><span class="s">&quot;\(kubeLabel)/component&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;proxy&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="nx">ports</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
<span class="w">            </span><span class="nx">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;http-\(metadata.name)&quot;</span>
<span class="w">            </span><span class="nx">port</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span>
<span class="w">        </span><span class="p">}]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ClusterIP</span>
<span class="w">  </span><span class="nt">selector</span><span class="p">:</span>
<span class="w">    </span><span class="nt">app.kubernetes.io/name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">    </span><span class="nt">app.kubernetes.io/component</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">proxy</span>
<span class="w">  </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http-nginx</span>
<span class="w">      </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TCP</span>
<span class="w">      </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
</code></pre></div>
</div>
</div>
</div>
<p>Setting prefixes and suffixes to field values can also be accomplished
using the <code>+</code> operator, e.g.:</p>
<ul>
<li><code>name: (metadata.name) + "-http"</code></li>
<li><code>name: "http-" + (metadata.name)</code></li>
</ul>
<h2 id="list-comprehensions">List Comprehensions</h2>
<p>Similar to Python and other languages, CUE supports list comprehensions using the
<code>[for key, value in list { result }]</code> syntax.</p>
<p>For example, we can generate a list of Service ports from a list of port numbers.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="12:2"><input checked="checked" id="__tabbed_12_1" name="__tabbed_12" type="radio" /><input id="__tabbed_12_2" name="__tabbed_12" type="radio" /><div class="tabbed-labels"><label for="__tabbed_12_1">service.cue</label><label for="__tabbed_12_2">service.yaml</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>

<span class="nx">nginxSvc</span><span class="p">:</span><span class="w"> </span><span class="err">#</span><span class="nx">Service</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">let</span><span class="w"> </span><span class="nx">appPorts</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="mi">443</span><span class="p">]</span>
<span class="w">    </span><span class="nx">metadata</span><span class="p">:</span><span class="w"> </span><span class="nx">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nginx&quot;</span>
<span class="w">    </span><span class="nx">spec</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">selector</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;app.kubernetes.io/name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nginx&quot;</span>
<span class="w">        </span><span class="nx">ports</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="k">for</span><span class="w"> </span><span class="nx">i</span><span class="p">,</span><span class="w"> </span><span class="nx">p</span><span class="w"> </span><span class="nx">in</span><span class="w"> </span><span class="nx">appPorts</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;http-\(i)&quot;</span>
<span class="w">            </span><span class="nx">port</span><span class="p">:</span><span class="w"> </span><span class="nx">p</span>
<span class="w">        </span><span class="p">}]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ClusterIP</span>
<span class="w">  </span><span class="nt">selector</span><span class="p">:</span>
<span class="w">    </span><span class="nt">app.kubernetes.io/name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">  </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http-0</span>
<span class="w">      </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TCP</span>
<span class="w">      </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http-1</span>
<span class="w">      </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TCP</span>
<span class="w">      </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">443</span>
</code></pre></div>
</div>
</div>
</div>
<p>Comprehensions can also be used with conditionals, for example to generate the list of ports, but only
for port numbers in the range 80-443: <code>[for i, p in appPorts if p &gt;= 80 &amp; p &lt;= 443 { result }]</code>.</p>
<h2 id="embedding">Embedding</h2>
<p>Similar to OOP composition, CUE allows the embedding of a definition into another. Embedding is useful
when you want to create specialised schemas which further constrain the fields of the base schema.</p>
<p>For example, we can embed the <code>#Service</code> schema into a <code>#HeadlessService</code> schema,
and set concrete values to the <code>type</code> and <code>clusterIP</code> fields.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="13:3"><input checked="checked" id="__tabbed_13_1" name="__tabbed_13" type="radio" /><input id="__tabbed_13_2" name="__tabbed_13" type="radio" /><input id="__tabbed_13_3" name="__tabbed_13" type="radio" /><div class="tabbed-labels"><label for="__tabbed_13_1">schema.cue</label><label for="__tabbed_13_2">service.cue</label><label for="__tabbed_13_3">service.yaml</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>

<span class="err">#</span><span class="nx">HeadlessService</span><span class="p">:</span><span class="w"> </span><span class="err">#</span><span class="nx">Service</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">spec</span><span class="p">!:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">type</span><span class="p">:</span><span class="w">      </span><span class="s">&quot;ClusterIP&quot;</span>
<span class="w">        </span><span class="nx">clusterIP</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;None&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="err">#</span><span class="nx">Service</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">*</span><span class="s">&quot;v1&quot;</span>
<span class="w">    </span><span class="nx">kind</span><span class="p">:</span><span class="w">       </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">*</span><span class="s">&quot;Service&quot;</span>
<span class="w">    </span><span class="nx">metadata</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">name</span><span class="p">!:</span><span class="w">     </span><span class="kt">string</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">=</span><span class="o">~</span><span class="s">&quot;^[a-z0-9]([-a-z0-9]*[a-z0-9])?$&quot;</span>
<span class="w">        </span><span class="nx">namespace</span><span class="p">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">*</span><span class="s">&quot;default&quot;</span>
<span class="w">        </span><span class="nx">labels</span><span class="err">?</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="kt">string</span><span class="p">]:</span><span class="w">      </span><span class="kt">string</span>
<span class="w">        </span><span class="nx">annotations</span><span class="err">?</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="kt">string</span><span class="p">]:</span><span class="w"> </span><span class="kt">string</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="nx">spec</span><span class="p">!:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">type</span><span class="p">:</span><span class="w">         </span><span class="o">*</span><span class="s">&quot;ClusterIP&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&quot;NodePort&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&quot;LoadBalancer&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&quot;ExternalName&quot;</span>
<span class="w">        </span><span class="nx">appProtocol</span><span class="err">?</span><span class="p">:</span><span class="w"> </span><span class="kt">string</span>
<span class="w">        </span><span class="nx">clusterIP</span><span class="err">?</span><span class="p">:</span><span class="w">   </span><span class="kt">string</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="kd">type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;ExternalName&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">externalName</span><span class="p">!:</span><span class="w"> </span><span class="kt">string</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="nx">selector</span><span class="err">?</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="kt">string</span><span class="p">]:</span><span class="w"> </span><span class="kt">string</span>
<span class="w">        </span><span class="nx">ports</span><span class="err">?</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="o">...</span><span class="p">{</span>
<span class="w">            </span><span class="nx">name</span><span class="err">?</span><span class="p">:</span><span class="w">       </span><span class="kt">string</span>
<span class="w">            </span><span class="nx">protocol</span><span class="p">:</span><span class="w">    </span><span class="o">*</span><span class="s">&quot;TCP&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&quot;UDP&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&quot;SCTP&quot;</span>
<span class="w">            </span><span class="nx">port</span><span class="p">!:</span><span class="w">       </span><span class="kt">int</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="o">&gt;=</span><span class="mi">1</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="o">&lt;=</span><span class="mi">65535</span>
<span class="w">            </span><span class="nx">targetPort</span><span class="err">?</span><span class="p">:</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kt">string</span>
<span class="w">        </span><span class="p">}]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">package</span><span class="w"> </span><span class="nx">main</span>

<span class="nx">nginxSvc</span><span class="p">:</span><span class="w"> </span><span class="err">#</span><span class="nx">HeadlessService</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">metadata</span><span class="p">:</span><span class="w"> </span><span class="nx">name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nginx&quot;</span>
<span class="w">    </span><span class="nx">spec</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">selector</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;app.kubernetes.io/name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;nginx&quot;</span>
<span class="w">        </span><span class="nx">ports</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
<span class="w">            </span><span class="nx">name</span><span class="p">:</span><span class="w">       </span><span class="s">&quot;http&quot;</span>
<span class="w">            </span><span class="nx">port</span><span class="p">:</span><span class="w">       </span><span class="mi">80</span>
<span class="w">        </span><span class="p">}]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ClusterIP</span>
<span class="w">  </span><span class="nt">clusterIP</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">None</span>
<span class="w">  </span><span class="nt">selector</span><span class="p">:</span>
<span class="w">    </span><span class="nt">app.kubernetes.io/name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">  </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http</span>
<span class="w">      </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TCP</span>
<span class="w">      </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
</code></pre></div>
</div>
</div>
</div>
<p>To make our service use the <code>#HeadlessService</code> schema, we'll have to change its definition
to <code>nginxSvc: #HeadlessService</code>.</p>
<p>While we can configure the metadata and ports, we can no longer
set the <code>type</code> and <code>clusterIP</code> fields, as they are set by the <code>#HeadlessService</code> schema.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright © 2024 Stefan Prodan
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://cloud-native.slack.com/team/ULPRMFH38" target="_blank" rel="noopener" title="cloud-native.slack.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1c0-25.9 21.16-47.06 47.06-47.06h47.06v47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V315.1zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06H164.9zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06H164.9zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06h-47.06V196.9zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06V196.9zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06v-47.06h47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06 0-25.9 21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06H283.1z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://x.com/stefanprodan" target="_blank" rel="noopener" title="x.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M64 32C28.7 32 0 60.7 0 96v320c0 35.3 28.7 64 64 64h320c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm297.1 84L257.3 234.6 379.4 396h-95.6L209 298.1 123.3 396H75.8l111-126.9L69.7 116h98l67.7 89.5 78.2-89.5h47.5zm-37.8 251.6L153.4 142.9h-28.3l171.8 224.7h26.3z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://linkedin.com/in/stefanprodan" target="_blank" rel="noopener" title="linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "navigation.sections", "navigation.top", "navigation.tabs"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.1e8ae164.min.js"></script>
      
    
  </body>
</html>